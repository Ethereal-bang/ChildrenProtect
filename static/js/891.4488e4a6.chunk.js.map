{"version":3,"file":"static/js/891.4488e4a6.chunk.js","mappings":"6OAMe,SAASA,IACpB,OAAsCC,EAAAA,EAAAA,UAAyB,IAA/D,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA8BF,EAAAA,EAAAA,UAAiB,IAA/C,eAAOG,EAAP,KAAgBC,EAAhB,KA+BA,OA5BAC,EAAAA,EAAAA,YAAU,YACNC,EAAAA,EAAAA,MAAiBC,MAAK,SAAAC,GAClB,IAAMC,EAAuBD,EAAIE,KAAKA,KAAKT,YAC3CQ,EAAKE,SAAQ,SAAAC,GACTA,EAAKC,IAAMD,EAAKE,GACnB,IACDZ,EAAeO,EAClB,IAAE,SAAAM,GACC,OAAO,WAAcA,EAAIC,SAASN,KAAKO,QAC1C,GACJ,GAAE,KAGHZ,EAAAA,EAAAA,YAAU,WACU,KAAZF,GAAmBA,IACvBe,EAAAA,EAAAA,IAAcf,GAASI,MAAK,SAAAC,GACxBW,QAAQC,IAAIZ,GACZN,EAAeM,EAAIE,KAAKO,QAAQP,KAAKW,aACxC,IAAE,SAAAN,GACC,OAAO,WAAcA,EAAIC,SAASN,KAAKO,QAC1C,GACJ,GAAE,CAACd,KAOG,SAAC,KAAD,CAAQmB,WAAW,EAAMb,KAAMR,EAAasB,SAJnD,SAAgBC,GACZpB,EAAWoB,EACd,GAGJ,C","sources":["views/Station/Station.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {Manage} from \"../../components\";\r\nimport {getStationList, searchStation} from \"../../api/roleManageApi\";\r\nimport {message} from \"antd\";\r\nimport {RoleListItem} from \"../../utils/interface\";\r\n\r\nexport default function Station() {\r\n    const [stationList, setStationList] = useState<RoleListItem[]>([]);\r\n    const [keyword, setKeyword] = useState<string>(\"\");\r\n\r\n    // 请求站长人员列表\r\n    useEffect(() => {\r\n        getStationList().then(res => {\r\n            const list :RoleListItem[] = res.data.data.stationList;\r\n            list.forEach(item => {\r\n                item.key = item.Key;\r\n            })\r\n            setStationList(list);\r\n        }, err => {\r\n            return message.error(err.response.data.message);\r\n        });\r\n    }, [])\r\n\r\n    // 搜索\r\n    useEffect(() => {\r\n        if (keyword === \"\" || !keyword) return;\r\n        searchStation(keyword).then(res => {\r\n            console.log(res)\r\n            setStationList(res.data.message.data.directorList);\r\n        }, err => {\r\n            return message.error(err.response.data.message);\r\n        })\r\n    }, [keyword])\r\n\r\n    // 作为回调传给子组件获取搜索词\r\n    function search(keyWord: string) {\r\n        setKeyword(keyWord);\r\n    }\r\n\r\n    return <Manage judgeRole={true} list={stationList} searchFn={search} />\r\n}\r\n"],"names":["Station","useState","stationList","setStationList","keyword","setKeyword","useEffect","getStationList","then","res","list","data","forEach","item","key","Key","err","response","message","searchStation","console","log","directorList","judgeRole","searchFn","keyWord"],"sourceRoot":""}